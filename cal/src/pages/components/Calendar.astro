---

---

<link
  href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.10/main.min.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.10/main.min.css"
  rel="stylesheet"
/>

<!-- HTML Structure -->
<!-- This wrapper div will contain our entire calendar -->
<div class="calendar-wrapper">
  <!-- This is where FullCalendar will be initialized -->
  <div id="calendar"></div>
</div>

<script>
  import { Calendar } from "@fullcalendar/core";
  import dayGridPlugin from "@fullcalendar/daygrid";
  import interactionPlugin from "@fullcalendar/interaction";

  document.addEventListener("DOMContentLoaded", function () {
    const calendarEl = document.getElementById("calendar");

    // Load saved events from localStorage
    const savedEvents = JSON.parse(
      localStorage.getItem("calendarEvents") || "[]",
    );

    const calendar = new Calendar(calendarEl, {
      plugins: [dayGridPlugin, interactionPlugin],
      initialView: "dayGridMonth",
      headerToolbar: {
        left: "prev,next today",
        center: "title",
        right: "dayGridMonth,dayGridWeek",
      },
      editable: true,
      selectable: true,
      events: savedEvents,
      select: function (info) {
        const title = prompt("Enter event title:");
        if (title) {
          const newEvent = {
            title: title,
            start: info.startStr,
            end: info.endStr,
            allDay: info.allDay,
          };
          calendar.addEvent(newEvent);

          // Save to localStorage
          const events = calendar.getEvents().map((e) => ({
            title: e.title,
            start: e.startStr,
            end: e.endStr,
            allDay: e.allDay,
          }));
          localStorage.setItem("calendarEvents", JSON.stringify(events));
        }
      },
      eventClick: function (info) {
        if (confirm("Delete event?")) {
          info.event.remove();

          // Update localStorage after deletion
          const events = calendar.getEvents().map((e) => ({
            title: e.title,
            start: e.startStr,
            end: e.endStr,
            allDay: e.allDay,
          }));
          localStorage.setItem("calendarEvents", JSON.stringify(events));
        }
      },
    });

    calendar.render();
  });
</script>

<!-- Styling -->
<style>
  .calendar-wrapper {
    width: 100%;
    max-width: 1200px;
    margin: 20px auto;
    padding: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  #calendar {
    width: 100%;
    height: 100%;
    min-height: 500px;
  }
</style>

<div class="calendar-container">
  <!-- Calendar section -->
  <div class="calendar-wrapper">
    <div id="calendar"></div>
  </div>
</div>

<style>
  .calendar-container {
    display: flex;
    gap: 20px;
    width: 100%;
    max-width: 1600px;
    margin: 20px auto;
  }

  .calendar-wrapper {
    flex: 2;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
  }

</style>
